(()=>{"use strict";var e={297:(e,t,n)=>{e.exports=n.p+"8a109db623d9400be9b6.svg"},206:(e,t,n)=>{e.exports=n.p+"c313a35ca1e1869d32f3.svg"},886:(e,t,n)=>{e.exports=n.p+"ea905c0b8340cf4a69aa.svg"},697:(e,t,n)=>{e.exports=n.p+"5633bb16956269f00c2e.png"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{let e=new class{constructor(e,t){this.urlBase=e,this.urlBaseEpisodes=t,this.dataEpisode=this.getEpisodes(),this.dataBase=this.changeDataEpisodeCharacters(),this.filter={search:null,status:[],species:[],gender:[],origin:[],location:[],episode:[],order:null},this.filterData=this.dataBase,this.loading=!0,this.subs=[]}async getData(e=this.urlBase){let t=[],n=e;for(;n;){let e=await fetch(n),i=await e.json();t.push(...i.results),n=i.info.next}return t}async getEpisodes(){let e=await this.getData(this.urlBaseEpisodes),t={};return e.forEach((e=>t[e.id]=e.name)),t}async changeDataEpisodeCharacters(){let e=await this.getData(),t=await this.dataEpisode,n=0;return e.forEach((e=>{n+=e.episode.length;let i=e.episode;e.episode=i.map((e=>{let n=e.split("/")[5];return t[n]}))})),this.loading=!1,e}filtrar(){let e=this.dataBase,t=this.search(e),n=this.filterBase(t,"status"),i=this.filterBase(n,"species"),s=this.filterBase(i,"gender"),a=this.filterOrigin(s),c=this.filterLocation(a),o=this.filterEpisodes(c);return this.order(o)}search(e){let t=this.filter.search;return null!==t?e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))):e}order(e){let t=this.filter.order;return null==t?e:"ascendente"==t?(e.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),e):"descendente"==t?(e.sort((function(e,t){return e.name>t.name?-1:e.name<t.name?1:0})),e):void 0}filterBase(e,t){const n=this.filter[t];return n.length>0?e.filter((e=>n.includes(e[t]))):e}filterOrigin(e){let t=this.filter.origin;return 0!==t.length?e.filter((e=>t.includes(e.origin.name))):e}filterLocation(e){let t=this.filter.location;return 0!==t.length?e.filter((e=>t.includes(e.location.name))):e}filterEpisodes(e){let t=this.filter.episode;return t.length>0?e.filter((e=>e.episode.some((e=>t.includes(e))))):e}async getOptionsSpecies(){let e=await this.dataBase;return new Set(e.map((e=>e.species)))}async getOptionsGender(){let e=await this.dataBase;return new Set(e.map((e=>e.gender)))}async getOptionsOrigin(){let e=await this.dataBase;return new Set(e.map((e=>e.origin.name)))}async getOptionsLocation(){let e=await this.dataBase;return new Set(e.map((e=>e.location.name)))}async getOptionsEpisodiosName(){let e=await this.dataEpisode;return Object.values(e)}}("https://rickandmortyapi.com/api/character","https://rickandmortyapi.com/api/episode"),t=new class{constructor(e,t,n=0){this.currentPage=e,screen.width<768?this.numberOfPagesInPagination=5:this.numberOfPagesInPagination=10,this.charactersPerPage=t,this.numberOfPages=n}}(1,20,0);var i=n(297),s=n(886),a=n(206),c=n(697);let o=e=>{let t=`  <div class="cCharacterCard__id hidden">\n                  <p>${e.id}</p>\n                </div>\n\n                <img class="cCharacterCard__img" src="${e.image}" alt="">\n\n                <div class="cCharacterCard__txt">\n                  <div class="txt__name">${e.name}</div>\n                  <div class="txt__status"></div>\n                </div>\n\n                <div class="cCharacterCard__info hidden">\n                  \n                  <div class="info">\n\n                    <div class="info__description">\n                        <div class="gender"></div>\n                    </div>               \n                  </div>\n\n                  <svg class="info__svg" width="60" height="38" viewBox="0 0 60 38" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M59 1H31.2709H6.336L1 14V37H52.5299L59 26.2414V1Z" stroke="#1E2327" stroke-width="2"/>\n                  </svg>\n\n                  \n                </div>`,n=document.createElement("div");return n.classList.add("cCharacterCard"),n.insertAdjacentHTML("afterbegin",t),n.addEventListener("mouseenter",(e=>{!function(e){let t=e.querySelector(".cCharacterCard__id"),n=e.querySelector(".cCharacterCard__info");t.classList.remove("hidden"),n.classList.remove("hidden")}(e.path[0])})),n.addEventListener("mouseleave",(e=>{!function(e){let t=e.querySelector(".cCharacterCard__id"),n=e.querySelector(".cCharacterCard__info");t.classList.add("hidden"),n.classList.add("hidden")}(e.path[0])})),n.addEventListener("click",(()=>{!function(e){document.querySelector(".cCharacters__characters").appendChild((e=>{let t=` <div class="cInfoContainer">\n                <div class="cInfoContainer__contents">\n                  <div class="contents__title">${e.name}</div>\n                  <img class="contents__img" src=${e.image} alt="">\n                  <div class="contents__info">\n                    <div class="info__text">Status: ${e.status}</div>\n                    <div class="info__text">Specie: ${e.species}</div>\n                    <div class="info__text">Type: ${e.type}</div>\n                    <div class="info__text">Gender: ${e.gender}</div>\n                    <div class="info__text">Origin: ${e.origin.name}</div>\n                    <div class="info__text">Location: ${e.location.name}</div>\n                    <div class="cOptionButton">\n                            <div class="cOptionButton__title">Episodios</div>\n                            <div class="cOptionButton__container hidden"></div>\n                    </div>\n                  </div>\n                </div>\n              </div>`,n=document.createElement("div");n.classList.add("cCharacterInfo"),n.innerHTML=t,function(e,t){let n=t.querySelector(".contents__title");e.name.length>=20&&(n.style.fontSize="11px")}(e,n),n.addEventListener("click",(e=>{!function(e){let t=document.querySelector(".cCharacterInfo"),n=document.querySelector("html");e==t&&(t.remove(),n.classList.remove("scrollHidden"))}(e.target)}));let i=n.querySelector(".cOptionButton__title");return async function(e,t){let n=e.nextSibling.nextSibling;t.episode.forEach((e=>{n.innerHTML+=`<div id="${e}" class="options">${e}</div>`})),n.querySelectorAll(".options").forEach((e=>{e.addEventListener("click",(e=>{e.target.classList.toggle("options--selected")}))}))}(i,e),i.addEventListener("click",(e=>{var t;(t=e.target).classList.toggle("cOptionButton__title--selected"),t.nextSibling.nextSibling.classList.toggle("hidden")})),n})(e)),document.querySelector("html").classList.add("scrollHidden")}(e)})),function(e){let t=n.querySelector(".txt__status");switch(e.status){case"Dead":t.classList.add("txt__status--dead");break;case"Alive":t.classList.add("txt__status--alive");break;case"unknown":t.classList.add("txt__status--unknown")}}(e),function(e){let t=n.querySelector(".gender");switch(e.gender){case"Female":t.style.backgroundImage=`url(${i})`;break;case"Male":t.style.backgroundImage=`url(${s})`;break;case"Genderless":t.style.backgroundImage=`url(${a})`;break;case"unknown":t.style.backgroundImage=`url(${c})`}}(e),function(e,t){let n=t.querySelector(".txt__name");e.name.length>=30&&(n.style.fontSize="12px")}(e,n),n};function r(){document.querySelector(".pageNumbering").innerHTML='    <div id="previous" class="bottom"> < </div>\n                  <div class=\'pageNumbering__index\'></div>\n                  <div id="next" class="bottom">></div>',document.querySelector("#previous").addEventListener("click",(()=>{t.currentPage>1&&(t.currentPage-=1),window.location.hash=`#/personajes/${t.currentPage}`})),document.querySelector("#next").addEventListener("click",(()=>{t.currentPage<t.numberOfPages&&(t.currentPage+=1),window.location.hash=`#/personajes/${t.currentPage}`})),function(){let{numberOfPages:e,numberOfPagesInPagination:n,currentPage:i}=t,s=document.querySelector(".pageNumbering__index"),a=function(e,t,n){if(n<=e)return Array.from({length:n},((e,t)=>t+1));{let i=1;return i=t<=Math.ceil(e/2)?1:n-t>Math.floor(e/2)?t-(Math.ceil(e/2)-1):n-(e-1),Array.from({length:e},((e,t)=>t+i))}}(n,i,e);a=a.forEach((e=>{const t=document.createElement("div");t.setAttribute("id",e),t.setAttribute("class","indexNumber"),t.textContent=e,s.appendChild(t)})),document.getElementById(i).classList.add("indexNumber__selected"),document.querySelectorAll(".indexNumber").forEach((e=>{e.addEventListener("click",(()=>{window.location.hash=`#/personajes/${e.id}`,i=parseInt(e.id)}))}))}()}async function d(){let n=await e.filtrar();console.log("test"),console.log(n);let i=document.querySelector(".cCharacters__characters"),s=document.querySelector(".pageNumbering"),a=document.querySelector(".charactersNotFound"),c=document.querySelector(".loader");console.log("pasado el test"),c.classList.add("hidden"),i.innerHTML="",n.length>0?(t.numberOfPages=Math.ceil(n.length/t.charactersPerPage),i.classList.remove("hidden"),s.classList.remove("hidden"),a.classList.add("hidden"),n.length>t.charactersPerPage?(n.slice(t.charactersPerPage*(t.currentPage-1),t.charactersPerPage*t.currentPage).forEach((e=>{i.appendChild(o(e))})),r()):(n.forEach((e=>{i.appendChild(o(e))})),document.querySelector(".pageNumbering").innerHTML="<div class='pageNumbering__index'> <div class='indexNumber indexNumber__selected'>1</div> </div>")):(a.classList.remove("hidden"),i.classList.add("hidden"),s.classList.add("hidden"))}function l(){let t=document.querySelector(".cSearch__search").value;e.filter.search=""!==t?t:null,d(),window.location.hash="#/personajes/1"}let u,h=[];const p=()=>{const e=window.innerWidth;let n=document.querySelector(".cSearch");e<768?null!=u&&"desktop"!=u||(document.querySelector(".app").insertAdjacentElement("afterbegin",n),t.numberOfPagesInPagination=5,u="mobile"):null!=u&&"mobile"!=u||(document.querySelector(".cOptionsBar").insertAdjacentElement("afterbegin",n),t.numberOfPagesInPagination=10,u="desktop")};window.addEventListener("hashchange",(e=>{(({oldUrl:e,newUrl:n})=>{let i=n.split("/");switch(i[1]){case"home":return console.log("home");case"personajes":let e=parseInt(i[2]);return e&&e<=t.numberOfPages&&(t.currentPage=e,d()),console.log("personajes");case"juegos":return console.log("juegos");default:console.log("404!!")}})({oldUrl:e.oldURL,newUrl:window.location.hash})})),window.addEventListener("load",(()=>{window.location.hash="#/personajes/1"})),document.querySelector(".header").insertAdjacentElement("afterend",(()=>{let t=document.createElement("main");return t.classList.add("app"),t.appendChild((()=>{let e=document.createElement("div");return e.classList.add("cSearch"),e.innerHTML='      <button class="cSearch__buttonSend"></button>\n                        <input class="cSearch__search" type ="search" placeholder = "Buscar"> \n                        ',e.querySelector(".cSearch__buttonSend").addEventListener("click",l),e})()),t.appendChild((()=>{let t=document.createElement("div");return t.classList.add("cOptionsBar"),t.insertAdjacentHTML("afterbegin",'  <div class="cOptionsBar__right">\n\n                    <div class="cOptionButton">\n                      <div class="cOptionButton__title menu__title">Filtrar</div>\n\n                      <div class="cOptionButton__container menu__container hidden">\n                        <div class="cOptionButton">\n                          <div class="cOptionButton__title">Especie</div>\n                          <div class="cOptionButton__container hidden"></div>\n                        </div>\n\n                        <div class="cOptionButton">\n                          <div class="cOptionButton__title">Género</div>\n                          <div class="cOptionButton__container hidden"></div>\n                        </div>\n\n                        <div class="cOptionButton">\n                          <div class="cOptionButton__title">Origen</div>\n                          <div class="cOptionButton__container hidden"></div>\n                        </div>\n\n                        <div class="cOptionButton">\n                          <div class="cOptionButton__title">Locación</div>\n                          <div class="cOptionButton__container hidden"></div>\n                        </div>\n\n                        <div class="cOptionButton">\n                          <div class="cOptionButton__title">Episodios</div>\n                          <div class="cOptionButton__container hidden"></div>\n                        </div>\n                      </div> \n\n                    </div>\n\n                    <div class="cOptionButton">\n                      <div class="cOptionButton__title menu__title">Ordenar</div>\n                      <div class="cOptionButton__container menu__container hidden">\n                        <div class="containerOptions">\n                          <div id="ascendente" class="options">A-Z</div>\n                          <div id="descendente" class="options">Z-A</div>\n                        </div>\n                      </div>\n                    </div>\n                      \n\n                    <div class="cOptionsBar__lifeBar">\n                      <div class="lifeBar">\n                        <div id="Alive" class="containerLife  containerLife--alive hideContainerLife"></div>\n                        <div id="Dead" class="containerLife  containerLife--dead hideContainerLife"></div>\n                        <div id="unknown" class="containerLife  containerLife--unknown hideContainerLife"></div>\n                      </div>\n                    </div>\n                  </div>'),t.querySelectorAll(".containerLife").forEach((t=>{t.addEventListener("click",(t=>{!function(t){if(t.classList.toggle("hideContainerLife"),h.includes(t.id)){let e=h.indexOf(t.id);h.splice(e,1)}else h.push(t.id);e.filter.status=h,d()}(t.path[0])}))})),t.querySelectorAll(".cOptionButton__title").forEach((t=>{!async function(t){let n=t.nextSibling.nextSibling;switch(t.textContent){case"Especie":(await e.getOptionsSpecies()).forEach((t=>{let i=document.createElement("div");i.classList.add("options"),i.setAttribute("id",t),i.textContent=t,i.addEventListener("click",(()=>{let n=e.filter.species;n.includes(t)?(n.splice(n.indexOf(t),1),d()):(n.push(t),d()),i.classList.toggle("options--selected"),window.location.hash="#/personajes/1"})),n.appendChild(i)}));break;case"Género":(await e.getOptionsGender()).forEach((t=>{let i=document.createElement("div");i.classList.add("options"),i.setAttribute("id",t),i.textContent=t,i.addEventListener("click",(()=>{let n=e.filter.gender;n.includes(t)?(n.splice(n.indexOf(t),1),d()):(n.push(t),d()),i.classList.toggle("options--selected"),window.location.hash="#/personajes/1"})),n.appendChild(i)}));break;case"Origen":(await e.getOptionsOrigin()).forEach((t=>{let i=document.createElement("div");i.classList.add("options"),i.setAttribute("id",t),i.textContent=t,i.addEventListener("click",(()=>{let n=e.filter.origin;n.includes(t)?(n.splice(n.indexOf(t),1),d()):(n.push(t),d()),i.classList.toggle("options--selected"),window.location.hash="#/personajes/1"})),n.appendChild(i)}));break;case"Locación":(await e.getOptionsLocation()).forEach((t=>{let i=document.createElement("div");i.classList.add("options"),i.setAttribute("id",t),i.textContent=t,i.addEventListener("click",(()=>{let n=e.filter.location;n.includes(t)?(n.splice(n.indexOf(t),1),d()):(n.push(t),d()),i.classList.toggle("options--selected"),window.location.hash="#/personajes/1"})),n.appendChild(i)}));break;case"Episodios":(await e.getOptionsEpisodiosName()).forEach((t=>{let i=document.createElement("div");i.classList.add("options"),i.setAttribute("id",t),i.textContent=t,i.addEventListener("click",(()=>{let n=e.filter.episode;n.includes(t)?(n.splice(n.indexOf(t),1),d()):(n.push(t),d()),i.classList.toggle("options--selected"),window.location.hash="#/personajes/1"})),n.appendChild(i)}))}}(t),t.addEventListener("click",(e=>function(e){let t=document.querySelectorAll(".cOptionButton__title--selected"),n=document.querySelectorAll(".cOptionButton__container"),i=e.nextSibling.nextSibling;e.classList.toggle("cOptionButton__title--selected"),i.classList.contains("menu__container")?(i.classList.toggle("hidden"),n.forEach((e=>{e.classList.contains("menu__container")&&e!=i&&e.classList.add("hidden")}))):(i.classList.toggle("hidden"),n.forEach((e=>{e.classList.contains("menu__container")||e.classList.contains("hidden")||e==i||e.classList.add("hidden")}))),t.forEach((t=>{t.classList.contains("menu__title")&&e.classList.contains("menu__title")?(t.classList.remove("cOptionButton__title--selected"),n.forEach((e=>{e.classList.contains("menu__container")||e.classList.contains("hidden")||e==i||e.classList.add("hidden")}))):t.classList.contains("menu__title")||t.classList.remove("cOptionButton__title--selected")}))}(e.path[0])))})),window.onclick=e=>{var t;(t=e.target).classList.contains("menu__title")||t.classList.contains("options")||t.classList.contains("cOptionButton__title")||(document.querySelectorAll(".cOptionButton__container").forEach((e=>{e.classList.add("hidden")})),document.querySelectorAll(".cOptionButton__title--selected").forEach((e=>{e.classList.remove("cOptionButton__title--selected")})))},t.querySelectorAll(".options").forEach((t=>{t.addEventListener("click",(t=>{!function(t){e.filter.order=t.id,d(),function(e){document.querySelectorAll(".cOptionButton__container").forEach((e=>{e.classList.add("hidden")})),document.querySelectorAll(".cOptionButton__title--selected").forEach((e=>{e.classList.remove("cOptionButton__title--selected")})),function(e){let t=e.parentNode.querySelector(".options--selected");null!=t&&t.classList.remove("options--selected"),e.classList.add("options--selected")}(e)}(t),window.location.hash="#/personajes/1"}(t.target)}))})),t})()),t.appendChild((()=>{let e=document.createElement("div");return e.classList.add("cCharacters"),e.innerHTML='   <div class ="loader"></div>\n                <div class="cCharacters__characters"></div>\n                <div class="charactersNotFound hidden"></div>',e.insertAdjacentElement("beforeend",(()=>{let e=document.createElement("div");return e.classList.add("pageNumbering"),e})()),d(),e})()),window.addEventListener("resize",(()=>{e.loading||r(),p()})),window.addEventListener("load",(()=>p())),t})())})()})();